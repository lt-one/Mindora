# PRD: 散场之后

## 文档信息

- **文档名称**：PRD-散场之后
- **版本号**：V2.0
- **更新日期**：2023-12-05
- **状态**：修订版
- **作者**：产品经理
- **审核人**：技术负责人

## 一、概述

「散场之后」是Mindora个人网站的特色内容板块，包含「书页留思」(书籍读后感)和「光影随想」(影视作品观后感)两个专区。通过结构化的内容组织和差异化的展示方式，该板块不仅记录个人对文化作品的感受与思考，展示个人的审美品味和批判性思维，也为访客提供有价值的文化内容推荐和思考启发。「散场之后」以其深度的内容和特色的视觉体验，成为网站吸引特定兴趣群体的重要内容支柱。

## 二、目标用户

1. **内容创作者（网站所有者）**：希望记录和分享自己的阅读/观影体验和思考
2. **影视爱好者**：寻找电影、剧集等评论和推荐的访客
3. **文学爱好者**：对书籍评论和阅读心得感兴趣的读者
4. **批评理论研究者**：关注媒体批评方法和视角的专业人士
5. **潜在雇主/合作伙伴**：通过内容评估创作者的思考深度和表达能力
6. **一般访客**：浏览网站寻找有趣内容的普通用户

## 三、用户目标

### 网站所有者

- 系统性地记录和整理个人的观影、阅读体验
- 展示个人对作品的批判性思考和独特见解
- 通过高质量内容吸引特定兴趣群体
- 建立个人在特定领域的专业形象
- 收集用户对内容的反馈，促进交流
- 构建个人文化消费的知识库和成长轨迹

### 访客

- 发现高质量的影视、图书评论和推荐
- 获取新颖的视角和见解
- 找到与自己品味相近的内容创作者
- 参与讨论，分享自己的观点
- 了解创作者的思考方式和审美趋向
- 发现值得阅读的书籍和观看的影视作品

## 四、功能需求

### 1. 核心功能

#### 1.1 「书页留思」专区（书籍读后感）

- **定位特色**：侧重文字艺术与思想价值的探讨，关注"书籍如何改变思维"
- **内容结构**：
  - 作品基本信息（书名、作者、出版社、类型）
  - 阅读旅程记录（何时开始，何时完成，阅读体验）
  - 精彩片段摘录与评注
  - 思想启发与个人收获
  - 延伸阅读推荐
- **视觉设计**：
  - 书籍封面展示区与内页纹理背景
  - 排版强调书籍设计美学
  - 专属书签式导航系统
  - 阅读进度可视化时间轴

#### 1.2 「光影随想」专区（影视观后感）

- **定位特色**：侧重视听语言与叙事艺术的解析，关注"影像如何讲述故事"
- **内容结构**：
  - 作品基本信息（片名、导演、演员、类型）
  - 观影体验记录（首映/重温、观影场景）
  - 影像语言与场景分析
  - 角色与剧情解读
  - 情感共鸣与启发
  - 相关影片推荐
- **视觉设计**：
  - 电影海报/剧照展示区
  - 胶片风格视觉元素
  - 评分星级可视化组件
  - 场景截图画廊功能

#### 1.3 内容展示与浏览

- 专区切换导航（书页留思/光影随想）
- 内容列表页，支持网格和列表两种视图
- 单篇文章详情页面
- 按作品类型、主题、评分等多维度筛选
- 按时间顺序、热度、评分等多种排序方式

#### 1.4 内容创作与管理

- 富文本编辑器支持，针对两个专区定制
- 作品信息关联与自动获取
- 草稿保存与预览功能
- 文章发布与更新
- 内容归档与删除
- 专区特色内容模板

#### 1.5 分类与标签系统

- **分类系统**：
  - 书页留思：文学、哲学、历史、科技、艺术、社科等
  - 光影随想：剧情片、纪录片、动画、系列剧等
  - 支持自定义分类管理
- **标签系统**：
  - 主题标签（如"成长"、"爱情"、"科幻"）
  - 情感标签（如"治愈"、"震撼"、"忧伤"）
  - 形式标签（如"实验性"、"经典"、"独立"）
  - 标签云可视化与关联内容发现

#### 1.6 推荐与评分

- 分级评分系统（1-10分制，精确到0.5）
- 推荐指数可视化展示
- "值得一读/一看"精选集
- 年度/月度最佳作品推荐
- 主题推荐集合（如"科幻之旅"、"哲学思考"）

### 2. 扩展功能

#### 2.1 用户互动

- 段落级精准评论功能
- 点赞与分享选项（支持社交媒体定制卡片）
- 收藏功能
- 相关推荐算法
- 读者/观众补充观点
- 观点投票与热度展示

#### 2.2 高级展示

- 剧透保护机制（折叠/模糊处理）
- 引用与参考文献支持
- 多媒体内容嵌入（预告片、片段等）
- 作品相关信息自动聚合
- 知识图谱生成与可视化
- 跨媒介关联推荐（如书籍与其改编电影）

#### 2.3 内容分析

- 观影/阅读统计与可视化
- 个人品味变化趋势分析
- 内容关键词与主题聚类
- 热门/冷门作品对比
- 创作者成长轨迹展示
- 季节/节日/事件相关推荐

## 五、交互需求

### 1. 浏览交互

- **列表浏览**：
  - 支持网格和列表两种视图
  - 无限滚动或分页加载
  - 封面图预览效果
  - 简洁的评分和分类标识
  - 专区特色视觉元素

- **详情页交互**：
  - 专区特色的沉浸式阅读体验
  - 目录导航（长文章）
  - 平滑滚动和进度指示
  - 顶部作品信息卡片固定
  - 专区特色互动组件

### 2. 搜索与筛选交互

- **搜索体验**：
  - 实时搜索建议
  - 按作品名、导演/作者等搜索
  - 搜索结果分类展示
  - 搜索历史记录

- **筛选控制**：
  - 多条件组合筛选
  - 快速标签切换
  - 筛选条件可视化
  - 保存常用筛选组合
  - 专区特色筛选选项

### 3. 创作交互

- **编辑体验**：
  - 专区特色编辑器
  - 书籍电子注释工具（书页留思）
  - 影片时间码标记功能（光影随想）
  - 分段保存功能
  - 编辑历史记录
  - 快捷键支持

- **发布流程**：
  - 发布前预览
  - 定时发布选项
  - SEO信息填写提示
  - 发布后分享提醒
  - 专区特色发布选项

## 六、技术实现需求

### 1. 前端实现

- **技术栈**：
  - Next.js 14框架
  - React组件系统
  - Tailwind CSS样式
  - 响应式设计

- **编辑器实现**：
  - 集成Tiptap或Lexical富文本编辑器
  - Markdown支持
  - 图片上传与处理
  - 代码块和引用格式化
  - 专区特色功能组件

- **性能优化**：
  - 内容预加载策略
  - 图片渐进式加载技术
  - 内容块虚拟滚动
  - 离线内容缓存
  - 代码分割和按需加载
  - 静态生成与增量静态再生成(ISR)
  - 客户端导航优化

- **动态交互**：
  - 平滑过渡动画
  - 微互动反馈
  - 手势操作支持
  - 视差滚动效果
  - 专区特色动效

### 2. 后端实现

- **数据存储**：
  - 使用Prisma ORM与MySQL交互
  - 结构化内容模型设计
  - 媒体文件存储策略
  - 专区特色数据关联

- **API设计**：
  - RESTful API接口
  - 数据校验和安全处理
  - 缓存策略实现
  - 内容版本控制
  - 专区特色API端点

- **搜索实现**：
  - 全文搜索引擎集成
  - 相关性排序算法
  - 搜索建议实现
  - 结果缓存机制
  - 专区间内容关联

### 3. SEO优化

- **结构化数据增强**：
  - 为书籍评论添加BookReview结构
  - 为电影评论添加MovieReview结构
  - 作者信息Person结构
  - 评分Rating结构

- **内容语义优化**：
  - 自动生成SEO友好标题
  - 内容摘要优化
  - 关键词密度控制
  - 内部链接策略

- **技术SEO**：
  - 静态预渲染页面
  - 性能指标优化
  - 移动友好设计
  - 站点地图自动生成

## 七、数据需求

### 1. 数据模型：Review与扩展模型

```prisma
model Review {
  id              String    @id @default(cuid())
  title           String    // 文章标题
  slug            String    @unique // URL友好的标识
  content         String    @db.Text // 文章内容
  excerpt         String?   @db.Text // 文章摘要
  coverImage      String?   // 封面图片URL
  rating          Float?    // 评分（1-10）
  isPublished     Boolean   @default(false) // 是否已发布
  publishedAt     DateTime? // 发布时间
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  viewCount       Int       @default(0) // 浏览次数
  likeCount       Int       @default(0) // 点赞数
  categoryId      String    // 分类ID
  category        Category  @relation(fields: [categoryId], references: [id])
  tags            Tag[]     @relation("ReviewToTag")
  workId          String    // 作品ID
  work            Work      @relation(fields: [workId], references: [id]) // 关联的作品
  comments        Comment[] // 评论
  isFeatured      Boolean   @default(false) // 是否精选
  spoilerWarning  Boolean   @default(false) // 是否有剧透警告
  userId          String    // 创建者ID
  user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  relatedReviews  Review[]  @relation("RelatedReviews")
  relatedTo       Review[]  @relation("RelatedReviews")
  
  // 新增字段
  reviewType      String    // 'book'(书页留思) 或 'movie'(光影随想)
  readingJourney  ReadingJourney? // 书籍阅读旅程关联(书页留思专用)
  filmAnalysis    FilmAnalysis?   // 电影分析关联(光影随想专用)
  highlights      Highlight[]     // 内容精彩片段
  mediaGallery    Media[]         // 多媒体内容
  aiSummary       String?     @db.Text // AI生成的内容摘要
  mood            String?     // 创作时的心情
  recommendLevel  Int?        // 推荐指数(1-5)
  customFields    Json?       // 自定义扩展字段
}

// 书籍阅读旅程模型(书页留思专用)
model ReadingJourney {
  id              String    @id @default(cuid())
  startDate       DateTime? // 开始阅读日期
  finishDate      DateTime? // 完成阅读日期
  readingNotes    String[]  // 阅读笔记列表
  favoriteQuotes  String[]  // 喜欢的引用
  thoughtChanges  String?   @db.Text // 思想变化记录
  readingContext  String?   // 阅读环境/场景
  readingTime     Int?      // 总阅读时间(分钟)
  reviewId        String    @unique
  review          Review    @relation(fields: [reviewId], references: [id], onDelete: Cascade)
}

// 电影分析模型(光影随想专用)
model FilmAnalysis {
  id              String    @id @default(cuid())
  watchDate       DateTime? // 观影日期
  rewatchCount    Int       @default(0) // 重看次数
  visualStyle     String?   // 视觉风格评价
  soundtrackNote  String?   // 配乐评价
  actingReview    String?   // 演技评价
  plotAnalysis    String?   // 剧情分析
  symbolism       String?   // 象征意义分析
  watchContext    String?   // 观影环境/场景
  reviewId        String    @unique
  review          Review    @relation(fields: [reviewId], references: [id], onDelete: Cascade)
}

// 内容精彩片段模型
model Highlight {
  id              String    @id @default(cuid())
  content         String    @db.Text // 内容片段
  pageNumber      Int?      // 书籍页码
  timeCode        String?   // 影片时间码
  note            String?   @db.Text // 个人注释
  reviewId        String
  review          Review    @relation(fields: [reviewId], references: [id], onDelete: Cascade)
}

// 多媒体内容模型
model Media {
  id              String    @id @default(cuid())
  type            String    // image, audio, video
  url             String    // 资源URL
  caption         String?   // 说明文字
  reviewId        String
  review          Review    @relation(fields: [reviewId], references: [id], onDelete: Cascade)
}

model Work {
  id              String      @id @default(cuid())
  title           String      // 作品标题
  originalTitle   String?     // 原始标题（非中文作品）
  type            String      // 类型：movie, series, book, etc.
  year            Int?        // 发行/出版年份
  creator         String?     // 导演/作者
  imageUrl        String?     // 作品图片URL
  externalLink    String?     // 外部链接（豆瓣、IMDb等）
  description     String?     @db.Text // 作品简介
  reviews         Review[]    // 关联的评论
  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt
}

model Category {
  id          String    @id @default(cuid())
  name        String    // 分类名称
  slug        String    @unique // URL友好的标识
  description String?   // 分类描述
  reviews     Review[]  // 关联的文章
}

model Tag {
  id          String    @id @default(cuid())
  name        String    // 标签名称
  slug        String    @unique // URL友好的标识
  reviews     Review[]  @relation("ReviewToTag")
}

model Comment {
  id          String    @id @default(cuid())
  content     String    // 评论内容
  authorName  String    // 评论者名称
  authorEmail String?   // 评论者邮箱
  isApproved  Boolean   @default(false) // 是否已审核
  reviewId    String    // 关联的文章ID
  review      Review    @relation(fields: [reviewId], references: [id])
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  parentId    String?   // 父评论ID（用于回复）
  parent      Comment?  @relation("CommentReplies", fields: [parentId], references: [id])
  replies     Comment[] @relation("CommentReplies")
}
```

### 2. 数据流程

- **创建流程**：
  - 选择专区（书页留思/光影随想）
  - 创建作品信息或选择现有作品
  - 填写专区特色数据（阅读旅程/电影分析）
  - 编写文章内容并添加精彩片段/多媒体内容
  - 添加分类和标签
  - 设置评分和推荐级别
  - 发布或保存为草稿

- **检索流程**：
  - 专区内或跨专区检索
  - 按分类、标签、评分等筛选
  - 全文搜索内容
  - 相关文章推荐算法
  - 热门文章计算规则
  - 主题集合聚合

- **互动流程**：
  - 评论提交和审核
  - 点赞和分享统计
  - 浏览量记录与分析
  - 用户反馈收集
  - 内容收藏跟踪

## 八、非功能需求

### 1. 性能需求

- 页面加载时间小于2秒
- 图片优化减少页面体积
- 支持移动网络下的流畅浏览
- 编辑器响应时间小于0.5秒
- 支持至少1000篇文章的管理
- 专区切换无感知加载

### 2. 可用性需求

- 符合WCAG 2.1 AA级别的可访问性标准
- 提供深色模式支持
- 移动端友好的阅读体验
- 简洁明了的操作界面
- 适当的帮助信息和提示
- 专区特色的交互设计

### 3. 安全需求

- 防止XSS和CSRF攻击
- 评论系统的垃圾信息过滤
- 内容备份和恢复机制
- 敏感内容的警告提示
- 内容版权保护

### 4. 兼容性需求

- 支持主流浏览器（Chrome, Firefox, Safari, Edge）
- 响应式设计适配各种屏幕尺寸
- 支持不同分辨率的显示效果
- 基本功能在JavaScript禁用时可用
- 移动设备触控优化

## 九、设计规范

### 1. 视觉设计

- **整体风格**：
  - 简洁、现代的设计语言
  - 专区差异化视觉标识
  - 突出内容的排版设计
  - 适当的留白和对比度
  - 影视/文学相关的视觉元素

- **色彩方案**：
  - 书页留思专区：
    - 主色调：#34495E（深蓝灰）
    - 辅助色：#D5DBDB（书页灰）、#BB8FCE（优雅紫）
  - 光影随想专区：
    - 主色调：#2C3E50（深靛蓝）
    - 辅助色：#E74C3C（电影红）、#F39C12（金色）
  - 共享色彩：
    - 文本色：#333333（正文）、#666666（次要文本）
    - 功能色：成功绿#4CAF50、警告黄#FFC107、错误红#F44336

- **排版规范**：
  - 书页留思专区：
    - 标题：Serif字体，24-36px
    - 正文：Serif或优雅Sans-serif字体，16-18px
    - 引用：斜体，带左边框，衬线字体
  - 光影随想专区：
    - 标题：Sans-serif字体，粗体，24-36px
    - 正文：现代Sans-serif字体，16-18px
    - 引用：电影台词样式，配有小图标
  - 共享规范：
    - 行高：1.6-1.8倍行距
    - 段落间距：统一且舒适
    - 标题层级清晰

### 2. 内容设计

- **书页留思专区内容规范**：
  - 强调个人阅读体验和思考过程
  - 突出文字艺术和思想价值
  - 引用与原文对照分析
  - 个人成长与思想演变记录
  - 延伸阅读明确推荐理由

- **光影随想专区内容规范**：
  - 关注影像语言和叙事分析
  - 结合场景截图进行视觉解析
  - 角色与情节深度剖析
  - 电影技术元素（摄影、剪辑、音效）评价
  - 情感共鸣与社会意义探讨

- **评分系统**：
  - 1-10分制，精确到0.5
  - 书页留思：阅读体验、思想深度、文字魅力等分项
  - 光影随想：剧情、演技、导演、视听等分项
  - 视觉化评分展示
  - 评分理由和详细分项

- **内容标准**：
  - 避免过度剧透（或提供警告）
  - 平衡描述与分析
  - 注重个人独特视角
  - 引用需标明来源
  - 专业术语适度解释

## 十、验收标准

### 1. 功能验收

- 两个专区（书页留思/光影随想）特色功能完整实现
- 文章创建、编辑、发布流程完整可用
- 分类、标签系统正常工作
- 搜索与筛选功能准确有效
- 评论系统功能完整
- 移动端功能无缺失
- 专区特色数据字段正确存储和展示

### 2. 性能验收

- 符合性能需求指标
- 图片加载优化，特别是多媒体内容
- 长文章加载和滚动流畅
- 编辑器操作响应及时
- 专区切换响应迅速

### 3. 内容验收

- 两个专区内容展示格式正确
- 评分系统展示清晰
- 相关推荐逻辑合理
- SEO要素完整
- 专区特色视觉设计实现

### 4. 交互验收

- 用户操作流程顺畅
- 交互反馈及时明确
- 错误处理友好
- 可访问性符合标准
- 专区特色交互功能可用

## 十一、上线计划

### 1. 阶段发布

- **阶段一（基础功能）**：
  - 两个专区基本框架搭建
  - 专区特色设计实现
  - 文章创建与展示基本功能
  - 分类系统基础实现
  - 简单搜索功能
  
- **阶段二（内容深度）**：
  - 多媒体内容支持
  - 阅读旅程/影片分析深化功能
  - 评分与推荐系统
  - 标签功能增强
  - 作品信息关联完善
  
- **阶段三（互动体验）**：
  - 评论与讨论功能
  - 社交分享优化
  - 内容推荐系统
  - 数据统计分析
  - 专区特色互动功能
  
- **阶段四（数据与个性化）**：
  - 数据可视化展示
  - 个性化推荐功能
  - AI辅助功能
  - 高级搜索与筛选
  - 跨专区内容关联

### 2. 内容运营计划

- 每周更新1-2篇高质量内容
- 每月策划1个主题专题
- 每季度进行1次内容分析与调整
- 用户反馈收集与功能迭代

## 十二、用户旅程示例

### 1. 书页留思用户旅程

**场景**：用户发现一本启发性的新书，完成阅读后希望记录感受

1. 用户访问「散场之后」，选择「书页留思」专区
2. 点击"创建新读后感"按钮
3. 上传书籍封面或输入书名，系统自动获取基本信息
4. 进入专用编辑器，看到书籍特色模板
5. 填写阅读旅程信息，记录开始和结束时间
6. 添加精彩片段和个人评注，使用页码引用功能
7. 撰写思想启发和个人收获部分
8. 设置分类和标签，添加延伸阅读推荐
9. 预览内容，调整排版和样式
10. 发布后，系统自动推荐给可能感兴趣的访客
11. 访客阅读、评论、分享，形成互动
12. 作者回复评论，深化讨论

### 2. 光影随想用户旅程

**场景**：用户观看一部影响深远的电影后希望分享观感

1. 用户访问「散场之后」，选择「光影随想」专区
2. 点击"创建新影评"按钮
3. 输入电影名称，系统自动获取海报和基本信息
4. 进入专用编辑器，看到电影特色模板
5. 记录观影场景和体验，选择观影日期
6. 上传关键场景截图并添加分析，使用时间码标记功能
7. 撰写对角色和剧情的解读
8. 分享情感共鸣和个人启发
9. 设置分类和标签，添加相关影片推荐
10. 设置评分，包括导演、演技、剧情等分项评价
11. 预览内容，确认剧透警告设置
12. 发布后通过视觉化评分系统展示总体评价
13. 其他用户发现并参与讨论，分享自己的观点

## 十三、附录

### 1. 用户故事

**故事1：记录文学体验**
作为一个阅读爱好者，我想要在「书页留思」专区记录自己阅读《百年孤独》的过程和思考，以便日后回顾自己对魔幻现实主义文学的理解变化。

**故事2：分享电影解析**
作为一个电影分析爱好者，我想要在「光影随想」专区发布我对《盗梦空间》的场景分析和象征意义解读，以便与其他影迷交流并展示我的影像解析能力。

**故事3：寻找读书推荐**
作为一个网站访客，我想要浏览「书页留思」专区中评分最高的哲学类书籍评论，以便找到值得一读的深度哲学作品。

**故事4：记录个人成长**
作为网站所有者，我想要通过定期更新「散场之后」的内容，记录自己在文学和电影欣赏能力上的成长轨迹，形成一个个人文化消费的知识库。

### 2. 界面原型示例

[附上线框图或设计图链接]

### 3. 竞品分析

- **豆瓣**：社区化的评分和评论系统，但缺乏个人特色和深度分析
- **Letterboxd**：专注电影的记录和分享，界面设计简洁优雅
- **Medium**：高质量的文章创作平台，排版和阅读体验出色
- **IMDb**：全面的影视信息数据库，但用户内容较为碎片化
- **The Verge**：现代化的内容呈现方式，多媒体融合效果好
- **Brain Pickings**：深度阅读分享，注重思想与灵感的传递 